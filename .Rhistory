basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
)
)
glimpse(cwt)
glimpse(cwt_out)
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
)
) %>%
distinct()
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA
)
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA
) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name"))
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA
) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
)
)
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA
) %>%
left_join(., stockKeyOut %>% select(-stock, -Region2Name) %>% distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
)
) %>%
distinct()
glimpse(cwt)
glimpse(cwt_out)
cwt_out %>% filter(is.na(stock))
cwt_out %>% filter(is.na(hatchery))
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA,
stock = case_when(
is.na(stock) ~ hatchery,
TRUE ~ stock
)
) %>%
left_join(.,
stockKeyOut %>%
select(-stock, -Region2Name) %>%
distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
)
) %>%
select(-gsi_stock) %>%
distinct()
cwt_out %>% filter(is.na(stock))
glimpse(cwt_out)
glimpse(stockKeyOut)
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA,
stock = case_when(
is.na(stock) ~ hatchery,
TRUE ~ stock
)
) %>%
left_join(.,
stockKeyOut %>%
select(-stock, -Region2Name) %>%
distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
),
id_type = "cwt"
) %>%
select(-gsi_stock) %>%
distinct()
glimpse(cwt_out)
glimpse(stockKeyOut)
cwt_out <- cwt %>%
mutate(
Region1Name = case_when(
state == "AK" ~ "Alaska",
basin == "UPTR" ~ "SOTH",
basin == "SKNA" ~ "Skeena Bulkley",
basin %in% c("SWVI", "NWVI") ~ "WCVI",
rmis_region %in% c("SAFA", "CECA") ~ "Central_Valley_fa",
rmis_region == "KLTR" ~ "Klamath_R",
rmis_region == "SNAK" ~ "Snake_R_sp/su",
basin == "CLEA" ~ "Snake_R_fa",
basin %in% c("UPSN", "SALM", "SIYA") ~ "Snake_R_sp/su",
basin %in% c("DESC", "UMAT", "HOO", "KLIC", "CRGNG", "WAGN") ~
"U_Columbia_R_su/fa",
rmis_region == "UPCR" ~ "U_Columbia_R_su/fa",
basin %in% c("WILL", "YOCL") ~ "Willamette_R",
basin %in% c("SAND", "SAWA", "GREL") ~ "L_Columbia_R_fa",
basin %in% c("TILN", "NEHA") ~ "N_Oregon_Coast",
basin == "UMPQ" ~ "Mid_Oregon_Coast",
basin == "SIXE" ~ "N_California/S_Oregon_Coast",
basin == "ROGU" ~ "Rogue_R",
basin %in% c("LEWI", "WIND", "COWL") ~ "L_Columbia_R_sp",
basin == "GHLC" ~ "Washington_Coast",
rmis_region %in% c("WILP", "NWC") ~ "Washington_Coast",
rmis_region == "HOOD" ~ "Hood_Canal",
rmis_region == "JUAN" ~ "Juan_de_Fuca",
rmis_region == "MPS" ~ "C_Puget_Sound",
rmis_region %in% c("NPS", "NOWA", "SKAG") ~ "N_Puget_Sound",
rmis_region == "SPS" ~ "S_Puget_Sound",
TRUE ~ Region1Name
),
Region2Name = NA,
stock = case_when(
is.na(stock) ~ hatchery,
TRUE ~ stock
)
) %>%
left_join(.,
stockKeyOut %>%
select(-stock, -Region2Name) %>%
distinct(),
by = c("Region1Name")) %>%
mutate(
Region3Name = case_when(
rmis_region %in% c("GST", "JNST") ~ "SOG",
TRUE ~ Region3Name
),
Region4Name = case_when(
rmis_region == "GST" ~ "SalSea",
TRUE ~ Region4Name
),
id_type = "cwt"
) %>%
select(stock, Region1Name:id_type) %>%
distinct()
glimpse(cwt_out)
glimpse(stockKeyOut)
# combine cwt and gsi stock keys w/ identifiers
stock_key_out_cwt <- stockKeyOut %>%
mutate(id_type = "gsi") %>%
rbind(., cwt_out)
glimpse(stock_key_out_cwt)
saveRDS(stock_key_out_cwt, here::here("data", "generated", "finalStockList_Apr2020.rds"))
write.csv(stock_key_out_cwt, here::here("data", "generated", "finalStockList_Apr2020.csv"),
row.names = FALSE)
